(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e,n){t.exports=n("56d7")},"2d93":function(t,e,n){},"2f98":function(t,e,n){},3735:function(t,e,n){},"525b":function(t,e,n){"use strict";n("c66b")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],s=n("2877"),c={},r=Object(s["a"])(c,o,a,!1,null,null,null),l=r.exports,d=n("8c4f"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-container"},[i("div",{staticClass:"left-container"},[i("div",{staticClass:"title"},[t._v("组件")]),i("draggable",{staticClass:"component-list",attrs:{group:{name:"componentDrag",pull:"clone"},sort:!1,animation:"300",draggable:".component-item",clone:t.cloneComponent},on:{end:t.handleEnd},model:{value:t.comList,callback:function(e){t.comList=e},expression:"comList"}},t._l(t.comList,(function(e,n){return i("div",{key:n,staticClass:"component-item",on:{click:function(n){return t.addComponent(e)}}},[i("el-icon",{staticClass:"icon",attrs:{name:"circle-plus-outline"}}),t._v(t._s(e.title)+" ")],1)})),0)],1),i("div",{staticClass:"line"}),i("div",{staticClass:"right-preview"},[i("div",{staticClass:"title"},[t._v("预览")]),i("div",{staticClass:"main-container"},[i("draggable",{staticStyle:{height:"100%"},attrs:{group:"componentDrag",animation:"500",ghostClass:"ghost",handle:".sort-icon"},model:{value:t.drawList,callback:function(e){t.drawList=e},expression:"drawList"}},t._l(t.drawList,(function(e,o){return i("div",{key:o},[["edit","text"].includes(e.component)?i("div",{key:e.id,staticClass:"box-item-text",style:{width:e.width+"px",height:e.height+"px","margin-bottom":"edit"===e.component?"25px":"10px"}},[i("tinymce",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.component,expression:"item.component === 'edit'"}],attrs:{height:"200"},model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"item.content"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:"text"===e.component,expression:"item.component === 'text'"}],ref:e.id,refInFor:!0,staticClass:"box-item-content",staticStyle:{height:"100%"},domProps:{innerHTML:t._s(e.content)}}),i("i",{class:["text"===e.component?"el-icon-edit":"el-icon-copy-document","button","edit-button"],on:{click:function(n){return t.handleToggle(e)}}}),i("i",{staticClass:"el-icon-delete button del-button",on:{click:function(n){return t.removeComponent(e.id)}}}),i("i",{staticClass:"el-icon-rank button sort-icon",on:{click:function(n){return t.removeComponent(e.id)}}})],1):i("div",{key:e.id,staticClass:"box-echarts",style:{width:parseFloat(e.width)+parseFloat(e.left)+"px",height:parseFloat(e.height)+parseFloat(e.top)+"px"}},[i("vue-drag-resize",{attrs:{x:parseFloat(e.left),y:parseFloat(e.top),w:parseFloat(e.width),h:parseFloat(e.height),dragCancel:".sort-icon"},on:{resizestop:function(n){return t.handleResizeStop(n,e)},dragstop:function(n){return t.handleDragStop(n,e)}}},[i("img",{staticClass:"img",attrs:{src:n("7e77"),alt:""}}),i("i",{staticClass:"el-icon-delete button del-button",on:{click:function(n){return t.removeComponent(e.id)}}}),i("i",{staticClass:"el-icon-rank button sort-icon",on:{click:function(n){return t.removeComponent(e.id)}}})])],1)])})),0),0===t.drawList.length?i("div",{staticClass:"empty"},[t._v(" 从左侧拖入或点选组件进行设计 ")]):t._e()],1)])])},m=[],p=n("2909"),h=n("5530"),f=(n("c740"),n("a434"),n("b76a")),g=n.n(f),v=n("3b58"),w=n.n(v),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.id}})])},C=[],x=n("1da1"),_=(n("96cf"),n("a9e3"),n("b680"),["undo redo  bold italic underline strikethrough   alignleft aligncenter alignright   blockquote  formatselect fontsizeselect ","forecolor backcolor searchreplace bullist numlist outdent indent link image  media  charmap      table  preview  fullscreen code"]),k=_,y=["advlist anchor autolink autosave code colorpicker  contextmenu directionality  fullscreen hr    link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],L=y,S="*{ padding:0; margin:0; }\nhtml, body      { height:100%; }\nimg             { max-width:100%; display:block;height:auto; }\na               { text-decoration: none; }\niframe          { width: 100%; }\np               { line-height:1.6; margin: 0px; }\ntable           { word-wrap:break-word; word-break:break-all; max-width:100%; border:none; border-color:#999; }\nul,ol           { list-style-position:inside; }",j=S,D={name:"tinymce",props:{height:{type:[Number,String],default:"300"},resize:{type:Boolean,default:!0},value:{type:String,default:""}},data:function(){return{id:"editor-"+ +new Date+(1e3*Math.random()).toFixed(0),firstInit:!1,errorStatus:!1,fullscreen:!1}},mounted:function(){this.initTinymce()},methods:{init:function(){return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},initTinymce:function(){var t=this;window.tinymce.init({selector:"#".concat(this.id),language:"zh_CN",height:this.height,object_resizing:this.resize,toolbar:k,plugins:L,end_container_on_empty_block:!0,powerpaste_word_import:"clean",default_link_target:"_blank",link_title:!1,paste_retain_style_properties:"all",paste_word_valid_elements:"*[*]",paste_data_images:!0,paste_convert_word_fake_lists:!1,file_picker_types:"media",content_style:j,init_instance_callback:function(e){t.value&&e.setContent(t.value),t.firstInit=!0,e.on("input change undo redo",(function(){t.errorStatus=!0,t.$emit("input",e.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))}})},setContent:function(t){window.tinymce.get(this.id).setContent(t)},getContent:function(){window.tinymce.get(this.id).getContent()},destroyTinymce:function(){var t=window.tinymce.get(this.id);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()}},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},watch:{value:function(t){var e=this;!this.errorStatus&&this.firstInit&&this.$nextTick((function(){window.tinymce.get(e.id).setContent(t||"")}))}}},O=D,T=(n("e720"),Object(s["a"])(O,b,C,!1,null,"2b77ef8e",null)),F=T.exports,z={name:"Home",components:{draggable:g.a,vueDragResize:w.a,tinymce:F},data:function(){return{comList:[{title:"文本框",component:"edit",height:360,width:"720",left:0,top:0,content:""},{title:"添加图表",component:"echarts",height:300,width:"710",left:0,top:0}],currentMove:{},drawList:[]}},methods:{cloneComponent:function(t){this.currentMove=Object(h["a"])({id:"box_"+(new Date).getTime()},t)},addComponent:function(t){var e=Object(h["a"])({},t);this.drawList.push(Object(h["a"])({id:"box_"+(new Date).getTime()},e))},handleEnd:function(){this.drawList.push(Object(h["a"])({},this.currentMove))},handleToggle:function(t){t.component="edit"===t.component?"text":"edit"},handleResizeStop:function(t,e){e.width=t.width,e.height=t.height},handleDragStop:function(t,e){e.left=t.left,e.top=t.top},removeComponent:function(t){for(var e=this.drawList.findIndex((function(e){return e.id==t})),n=Object(p["a"])(this.drawList),i=this.drawList[e],o=e+1;o<n.length;o++)n[o].top=n[o].top-i.height-25;n.splice(e,1),this.drawList=n}}},E=z,M=(n("525b"),Object(s["a"])(E,u,m,!1,null,"3b26429e",null)),$=M.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-container"},[i("div",{staticClass:"left-container"},[i("div",{staticClass:"title"},[t._v("组件")]),i("draggable",{staticClass:"component-list",attrs:{group:{name:"componentDrag",pull:"clone"},sort:!1,animation:"300",draggable:".component-item",clone:t.cloneComponent},on:{end:t.handleEnd},model:{value:t.comList,callback:function(e){t.comList=e},expression:"comList"}},t._l(t.comList,(function(e,n){return i("div",{key:n,staticClass:"component-item",on:{click:function(n){return t.addComponent(e)}}},[i("el-icon",{staticClass:"icon",attrs:{name:"circle-plus-outline"}}),t._v(t._s(e.title)+" ")],1)})),0)],1),i("div",{staticClass:"line"}),i("div",{staticClass:"right-preview"},[i("div",{staticClass:"title"},[t._v("预览")]),i("div",{staticClass:"main-container"},[i("draggable",{staticStyle:{height:"100%"},attrs:{group:"componentDrag",animation:"500",ghostClass:"ghost",handle:".sort-icon"},on:{end:t.handleSoreEnd},model:{value:t.drawList,callback:function(e){t.drawList=e},expression:"drawList"}},[t._l(t.drawList,(function(e,o){return[["edit","text"].includes(e.component)?i("div",{key:o,staticClass:"box-item-text",style:{width:e.width+"px",height:e.height+"px",left:e.left+"px",top:t.getHeight(o)+"px"}},[i("tinymce",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.component,expression:"item.component === 'edit'"}],attrs:{height:"200"},model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"item.content"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:"text"===e.component,expression:"item.component === 'text'"}],ref:e.id,refInFor:!0,staticClass:"box-item-content",staticStyle:{height:"100%"},domProps:{innerHTML:t._s(e.content)}}),i("i",{class:["text"===e.component?"el-icon-edit":"el-icon-copy-document","button","edit-button"],on:{click:function(n){return t.handleToggle(e)}}}),i("i",{staticClass:"el-icon-delete button del-button",on:{click:function(n){return t.removeComponent(e.id)}}}),i("i",{staticClass:"el-icon-rank button sort-icon",on:{click:function(n){return t.removeComponent(e.id)}}})],1):i("vue-drag-resize",{key:o,attrs:{x:parseFloat(e.left),y:parseFloat(t.getHeight(o)),w:parseFloat(e.width),h:parseFloat(e.height),dragCancel:".sort-icon"},on:{resizestop:function(n){return t.handleResizeStop(n,e)},dragstop:function(n){return t.handleDragStop(n,e)}}},[i("img",{staticClass:"img",attrs:{src:n("7e77"),alt:""}}),i("i",{staticClass:"el-icon-delete button del-button",on:{click:function(n){return t.removeComponent(e.id)}}}),i("i",{staticClass:"el-icon-rank button sort-icon",on:{click:function(n){return t.removeComponent(e.id)}}})])]}))],2),0===t.drawList.length?i("div",{staticClass:"empty"},[t._v(" 从左侧拖入或点选组件进行设计 ")]):t._e()],1)])])},H=[],I={name:"Home",components:{draggable:g.a,vueDragResize:w.a,tinymce:F},data:function(){return{comList:[{title:"文本框",component:"edit",height:340,width:"720",left:0,top:0,content:""},{title:"添加图表",component:"echarts",height:300,width:"710",left:0,top:0}],currentMove:{},drawList:[]}},methods:{getHeight:function(t){if(0===t)return 0;for(var e=0,n=0;n<t;n++)e+=parseFloat(this.drawList[n].height)+25;return e},cloneComponent:function(t){this.currentMove=Object(h["a"])({id:"box_"+(new Date).getTime()},t)},addComponent:function(t){var e=Object(h["a"])({},t);this.drawList.length,this.drawList.push(Object(h["a"])({id:"box_"+(new Date).getTime()},e))},handleEnd:function(){this.drawList.push(Object(h["a"])({},this.currentMove))},handleSoreEnd:function(t){},handleToggle:function(t){t.component="edit"===t.component?"text":"edit"},handleResizeStop:function(t,e){e.width=t.width,e.height=t.height},handleDragStop:function(t,e){e.left=t.left,e.top=t.top},removeComponent:function(t){for(var e=this.drawList.findIndex((function(e){return e.id==t})),n=Object(p["a"])(this.drawList),i=this.drawList[e],o=e+1;o<n.length;o++)n[o].top=n[o].top-i.height-25;n.splice(e,1),this.drawList=n}}},N=I,J=(n("f91a"),Object(s["a"])(N,R,H,!1,null,"3f56e6fa",null)),P=J.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-container"},[n("div",{staticClass:"left-container"},[n("div",{staticClass:"title"},[t._v("组件")]),n("draggable",{staticClass:"component-list",attrs:{group:{name:"componentDrag",pull:"clone"},sort:!1,animation:"300",draggable:".component-item",clone:t.cloneComponent},on:{end:t.handleEnd},model:{value:t.comList,callback:function(e){t.comList=e},expression:"comList"}},t._l(t.comList,(function(e,i){return n("div",{key:i,staticClass:"component-item",on:{click:function(n){return t.addComponent(e)}}},[n("el-icon",{staticClass:"icon",attrs:{name:"circle-plus-outline"}}),t._v(t._s(e.title)+" ")],1)})),0)],1),n("div",{staticClass:"line"}),n("div",{staticClass:"right-preview"},[n("div",{staticClass:"title"},[t._v("预览")]),n("div",{staticClass:"main-container"},[n("draggable",{staticStyle:{height:"100%"},attrs:{group:"componentDrag",animation:"500",ghostClass:"ghost"},model:{value:t.drawList,callback:function(e){t.drawList=e},expression:"drawList"}},t._l(t.drawList,(function(e,i){return n("div",{key:i},[["edit","text"].includes(e.component)?n("div",{key:e.id,staticClass:"box-item-text"},["edit"===e.component?n("tinymce",{attrs:{height:"200"},model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"item.content"}}):t._e(),n("i",{staticClass:"el-icon-rank button sort-icon",on:{click:function(n){return t.removeComponent(e.id)}}})],1):t._e()])})),0),0===t.drawList.length?n("div",{staticClass:"empty"},[t._v(" 从左侧拖入或点选组件进行设计 ")]):t._e()],1)])])},B=[],A={name:"Home",components:{draggable:g.a,vueDragResize:w.a,tinymce:F},data:function(){return{comList:[{title:"文本框",component:"edit",height:360,width:"720",left:0,top:0,content:""}],currentMove:{},drawList:[]}},methods:{cloneComponent:function(t){this.currentMove=Object(h["a"])({id:"box_"+(new Date).getTime()},t)},addComponent:function(t){var e=Object(h["a"])({},t);this.drawList.push(Object(h["a"])({id:"box_"+(new Date).getTime()},e))},handleEnd:function(){this.drawList.push(Object(h["a"])({},this.currentMove))},handleToggle:function(t){t.component="edit"===t.component?"text":"edit"},handleResizeStop:function(t,e){e.width=t.width,e.height=t.height},handleDragStop:function(t,e){e.left=t.left,e.top=t.top},removeComponent:function(t){for(var e=this.drawList.findIndex((function(e){return e.id==t})),n=Object(p["a"])(this.drawList),i=this.drawList[e],o=e+1;o<n.length;o++)n[o].top=n[o].top-i.height-25;n.splice(e,1),this.drawList=n}}},G=A,K=(n("5b88"),Object(s["a"])(G,q,B,!1,null,"a0f8642e",null)),Q=K.exports;i["default"].use(d["a"]);var U=[{path:"/",name:"Home",component:$},{path:"/index",name:"index",component:P},{path:"/test",name:"test",component:Q}],V=new d["a"]({routes:U}),W=V,X=n("2f62");i["default"].use(X["a"]);var Y=new X["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Z=n("5c96"),tt=n.n(Z);n("0fae"),n("b20f");i["default"].use(tt.a),i["default"].config.productionTip=!1,new i["default"]({router:W,store:Y,render:function(t){return t(l)}}).$mount("#app")},"5b88":function(t,e,n){"use strict";n("3735")},"7e77":function(t,e,n){t.exports=n.p+"img/img.1fe87f14.png"},b20f:function(t,e,n){},c66b:function(t,e,n){},e720:function(t,e,n){"use strict";n("2f98")},f91a:function(t,e,n){"use strict";n("2d93")}},[[0,"runtime","chunk-libs"]]]);